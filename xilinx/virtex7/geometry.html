<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Device geometry &mdash; Project Combine  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Interconnect" href="interconnect.html" />
    <link rel="prev" title="Virtex 7" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Project Combine
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../xc9500/index.html">Xilinx XC9500, XC9500XL, XC9500XV CPLDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xpla3/index.html">Xilinx XPLA3 CPLDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xc2c/index.html">Xilinx Coolrunner II CPLDs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Xilinx FPGAs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../xc2000/index.html">XC2000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc3000/index.html">XC3000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc3000a/index.html">XC3000A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc4000/index.html">XC4000</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc4000a/index.html">XC4000A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc4000h/index.html">XC4000H</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc4000e/index.html">XC4000E</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc4000ex/index.html">XC4000EX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc4000xla/index.html">XC4000XLA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc4000xv/index.html">XC4000XV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spartanxl/index.html">Spartan XL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xc5200/index.html">XC5200</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtex/index.html">Virtex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtex2/index.html">Virtex 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spartan3/index.html">Spartan 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fpgacore/index.html">FPGAcore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spartan6/index.html">Spartan 6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtex4/index.html">Virtex 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtex5/index.html">Virtex 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtex6/index.html">Virtex 6</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Virtex 7</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Device geometry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-structure">General structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bitstream-geometry">Bitstream geometry</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="interconnect.html">Interconnect</a></li>
<li class="toctree-l3"><a class="reference internal" href="clb.html">Configurable Logic Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="bram.html">Block RAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="dsp.html">DSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="io.html">Input/Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="center.html">Configuration Center</a></li>
<li class="toctree-l3"><a class="reference internal" href="clock.html">Clock interconnect</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmt.html">Clock management tile</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcie.html">PCI Express Gen2 cores</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcie3.html">PCI Express Gen3 cores</a></li>
<li class="toctree-l3"><a class="reference internal" href="gtp.html">GTP transceivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="gtx.html">GTX transceivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="gth.html">GTH transceivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="gtz.html">GTZ transceivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html">Configuration registers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Project Combine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Xilinx FPGAs</a></li>
          <li class="breadcrumb-item"><a href="index.html">Virtex 7</a></li>
      <li class="breadcrumb-item active">Device geometry</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/xilinx/virtex7/geometry.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="device-geometry">
<span id="virtex7-geometry"></span><h1>Device geometry<a class="headerlink" href="#device-geometry" title="Link to this heading"></a></h1>
<section id="general-structure">
<h2>General structure<a class="headerlink" href="#general-structure" title="Link to this heading"></a></h2>
<p>Virtex 7 devices follow the same general structure as Virtex 6 devices, with minor changes.</p>
<p>Virtex 7 devices are divided into “regions”. A region is exactly 50 interconnect tiles high. In addition to 50 interconnect rows, each region has a special HCLK row running through the middle (between rows 24 and 25), which is not counted in the row numbering.</p>
<p>The exact sequence of columns varies with the device. The main available column types are:</p>
<ul class="simple">
<li><p>CLBLL column: contains <code class="docutils literal notranslate"><span class="pre">CLBLL</span></code> tiles, one for every interconnect tile.</p></li>
<li><p>CLBLM column: contains <code class="docutils literal notranslate"><span class="pre">CLBLM</span></code> tiles, one for every interconnect tile.</p></li>
<li><p>BRAM column: contains <code class="docutils literal notranslate"><span class="pre">BRAM</span></code> tiles, one for every 5 interconnect tiles (ie. 10 <code class="docutils literal notranslate"><span class="pre">BRAM</span></code> tiles per region)</p></li>
<li><p>DSP column: contains <code class="docutils literal notranslate"><span class="pre">DSP</span></code> tiles, one for every 5 interconnect tiles (ie. 10 <code class="docutils literal notranslate"><span class="pre">DSP</span></code> tiles per region)</p></li>
<li><p>IO column: contains <code class="docutils literal notranslate"><span class="pre">IOP.*</span></code> and <code class="docutils literal notranslate"><span class="pre">IOS.*</span></code> tiles; also contains special <code class="docutils literal notranslate"><span class="pre">HCLK_IO.*</span></code> tiles in the HCLK rows</p></li>
<li><p>CMT column: contains <code class="docutils literal notranslate"><span class="pre">CMT</span></code> tiles; always paired 1-1 with IO columns</p></li>
<li><p>the center column: there is exactly one of those per device; it contains the <code class="docutils literal notranslate"><span class="pre">CFG</span></code> and <code class="docutils literal notranslate"><span class="pre">XADC</span></code> tiles in the center regions, and no primitives in the other regions</p></li>
<li><p>the clock spine column: there is exactly one of those per device; it contains <code class="docutils literal notranslate"><span class="pre">CLK_*</span></code> tiles that distribute global clocks through the device</p></li>
<li><p>GT column: contains <code class="docutils literal notranslate"><span class="pre">GTX</span></code> or <code class="docutils literal notranslate"><span class="pre">GTH</span></code> tiles</p></li>
</ul>
<p>Each of the above types of columns is colocated with a single interconnect column. Virtex 7 introduces a change to the internal geometry of columns: on Virtex 6 and below, the interconnect tile was almost always to the left of the associated primitive. On Virtex 7, it is alternating: in even-numbered columns, the interconnect tile is to the right of the associated primitive, while in odd-numbered columns, it is to the left.  This means that the interconnect columns always come in pairs that are next to each other, and such pairs of columns share the last mile clock interconnect lines. The interconnect column consists of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles, one per interconnect row (16 per region)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INTF</span></code> or <code class="docutils literal notranslate"><span class="pre">INTF.DELAY</span></code> tiles, one for every <code class="docutils literal notranslate"><span class="pre">INT</span></code> tile, except for <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles associated with <code class="docutils literal notranslate"><span class="pre">CLB*</span></code> tiles</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">INTF</span></code> is associated with <code class="docutils literal notranslate"><span class="pre">BRAM</span></code>, <code class="docutils literal notranslate"><span class="pre">DSP</span></code>, <code class="docutils literal notranslate"><span class="pre">IO</span></code>, <code class="docutils literal notranslate"><span class="pre">CMT</span></code>, and <code class="docutils literal notranslate"><span class="pre">CFG</span></code> tiles</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INTF.DELAY</span></code> is associated with <code class="docutils literal notranslate"><span class="pre">GTP</span></code>, <code class="docutils literal notranslate"><span class="pre">GTX</span></code>, <code class="docutils literal notranslate"><span class="pre">GTH</span></code>, <code class="docutils literal notranslate"><span class="pre">PCIE2</span></code>, <code class="docutils literal notranslate"><span class="pre">PCIE3</span></code>, and <code class="docutils literal notranslate"><span class="pre">PS</span></code> tiles</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">HCLK</span></code> tiles, one per region (located in the HCLK row) per <em>intereconnect column pair</em> (ie. the <code class="docutils literal notranslate"><span class="pre">HCLK</span></code> tile now takes two columns horizontally)</p></li>
</ul>
<p>The clock spine column is now a normal interconnect column unrelated to the center column — they can be in any horizontal position relative to each other. Likewise, the <code class="docutils literal notranslate"><span class="pre">CFG</span></code> center and the <code class="docutils literal notranslate"><span class="pre">BUFG</span></code> complex can have arbitrary vertical positions.</p>
<p>The clock spine column is always the right column of a pair. The center column is always the left column of a pair. There is always exactly one of each per device.</p>
<p>There can be up to two IO columns in the device:</p>
<ul class="simple">
<li><p>the left IO column; it is always the left column in the column pair, and the right column in the same pair is a CMT column</p></li>
<li><p>the right IO column; it is always the right column in the column pair, and the left column in the same pair is a CMT column</p></li>
</ul>
<p>There can be up to two GT columns in the device: the left GT column and the right GT column. When present, they are always the leftmost and the rightmost column of the device.</p>
<p>The other kinds of columns (CLB, BRAM, DSP) come in varying numbers, locations, and proportions, depending on device size and kind.</p>
<p>Virtex 7 devices have a significantly more irregular structure that previous Virtex devices. The regular grid can have quite a number of holes:</p>
<ul class="simple">
<li><p>the configuration center</p></li>
<li><p>the processing system</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">PCIE</span></code> tile</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">PCIE2</span></code> tile</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GTP</span></code> and <code class="docutils literal notranslate"><span class="pre">GTX</span></code> holes in the right IO column</p></li>
<li><p>the middle <code class="docutils literal notranslate"><span class="pre">GTP</span></code> holes</p></li>
<li><p>top and bottom <code class="docutils literal notranslate"><span class="pre">BRAM</span></code> tiles are missing when a BRAM column is the leftmost column of the device</p></li>
</ul>
<p>Some Virtex 7 devices are meant to be used as part of a multi-die package. In such devices, a special variant of <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles is used in the bottom and top regions, where the <code class="docutils literal notranslate"><span class="pre">LV9</span></code> interconnect line is bonded out, and can be connected through the interposer to the <code class="docutils literal notranslate"><span class="pre">LV9</span></code> line of another tile in another device. On devices with GTZ transceivers, these lines are also used to provide input/output connections to the GTZ die.</p>
<section id="io-and-transceiver-placement">
<h3>IO and transceiver placement<a class="headerlink" href="#io-and-transceiver-placement" title="Link to this heading"></a></h3>
<p>Virtex 7 devices come in several general floorplans:</p>
<ol class="arabic">
<li><p>There are two HR IO columns in the device, and they are the leftmost and rightmost column. There are no transceivers.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7s*</span></code> devices that are not just rebadged <code class="docutils literal notranslate"><span class="pre">xc7a*</span></code> devices.</p>
</li>
<li><p>Like floorplan 1, but there are <code class="docutils literal notranslate"><span class="pre">GTP</span></code> transceivers in holes in the top right and maybe bottom right corners of the device.</p>
<p>This floorplan applies to: all <code class="docutils literal notranslate"><span class="pre">xc7a*</span></code> devices except <code class="docutils literal notranslate"><span class="pre">xc7a200t</span></code>.</p>
</li>
<li><p>Like floorplan 1, but there are <code class="docutils literal notranslate"><span class="pre">GTP</span></code> transceivers in holes along the bottom and top border of the device, in the middle of the bottom and top regions.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7a200t</span></code>.</p>
</li>
<li><p>Like floorplan 1, but the right IO column contains HP IO, and the top right corner has a hole containing <code class="docutils literal notranslate"><span class="pre">GTX</span></code> transceivers.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7k70t</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7k160t</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7k325t</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7k410t</span></code>.</p>
</li>
<li><p>The leftmost column is an HR IO column. The rightmost column is a GT column and contains <code class="docutils literal notranslate"><span class="pre">GTX</span></code> transceivers.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7k355t</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7k480t</span></code>.</p>
</li>
<li><p>Like floorplan 1, but there is a processing system in the top left corner.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7z010</span></code> and <code class="docutils literal notranslate"><span class="pre">xc7z020</span></code>.</p>
</li>
<li><p>Like floorplan 6, but there’s a <code class="docutils literal notranslate"><span class="pre">GTP</span></code> transceiver hole in the bottom right corner.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7z015</span></code>.</p>
</li>
<li><p>Like floorplan 6, but the right column is HP IO column, and there’s a <code class="docutils literal notranslate"><span class="pre">GTX</span></code> transceiver hole in the bottom right corner.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7z030</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7z045</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7z100</span></code>.</p>
</li>
<li><p>The leftmost column is the left IO column, and the right IO column is somewhere in the middle. The rightmost column is the right GT column, containing <code class="docutils literal notranslate"><span class="pre">GTX</span></code> or <code class="docutils literal notranslate"><span class="pre">GTH</span></code> transceivers.</p>
<p>The IO columns contain mostly HP IO, except for some HR IO at the bottom of the left IO column.</p>
<p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7v585t</span></code> (with <code class="docutils literal notranslate"><span class="pre">GTX</span></code>), <code class="docutils literal notranslate"><span class="pre">xc7vx330t</span></code> (with <code class="docutils literal notranslate"><span class="pre">GTH</span></code>)</p>
</li>
<li><p>Thera are two GT columns on the device, and they are the leftmost and rightmost columns. There are also two HP IO columns in the middle.</p></li>
</ol>
<blockquote>
<div><p>This floorplan applies to: <code class="docutils literal notranslate"><span class="pre">xc7vx485t</span></code> (with <code class="docutils literal notranslate"><span class="pre">GTX</span></code>); <code class="docutils literal notranslate"><span class="pre">xc7vx415t</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7vx690t</span></code>, <code class="docutils literal notranslate"><span class="pre">xc7vx980t</span></code> (with <code class="docutils literal notranslate"><span class="pre">GTH</span></code>)</p>
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>The leftmost column is a special <code class="docutils literal notranslate"><span class="pre">BRAM</span></code> column, where the bottom <code class="docutils literal notranslate"><span class="pre">BRAM</span></code> tile and the topmost <code class="docutils literal notranslate"><span class="pre">BRAM</span></code> tile are missing (due to die corner cutting). The rightmost column is a <code class="docutils literal notranslate"><span class="pre">GTX</span></code> GT column. There are two HP IO columns in the middle. The device has special interconnect tiles in the bottom and top regions, for cross-die connections in multi-die devices.</p></li>
</ol>
<blockquote>
<div><p>This floorplan applies to: the <code class="docutils literal notranslate"><span class="pre">xc7v2000t</span></code> die.</p>
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Like floorplan 10, but there are special interconnect tiles in the bottom and top regions, for cross-die connections in multi-die devices.</p></li>
</ol>
<blockquote>
<div><p>This floorplan applies to: the <code class="docutils literal notranslate"><span class="pre">xc7vh580t</span></code> / <code class="docutils literal notranslate"><span class="pre">xc7vh870t</span></code> / <code class="docutils literal notranslate"><span class="pre">xc7vx1140t</span></code> die.</p>
</div></blockquote>
</section>
<section id="center-column-and-configuration-center">
<h3>Center column and configuration center<a class="headerlink" href="#center-column-and-configuration-center" title="Link to this heading"></a></h3>
<p>The center column on Virtex 7 has no responsibilities other than hosting the configuration center complex.  The full configuration center complex is a hole 6×100 interconnect tiles in size, occupying 6 CLBLL columns to the left of the center column. Very small devices consisting of only one region have a minimal configuration center complex instead, which is a 6×50 hole.</p>
<p>The 6×100 (or 6×50) area where the configuration center is located has no <code class="docutils literal notranslate"><span class="pre">CLBLL</span></code> or <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles. The <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles in the center column are used to provide inputs/outputs to the configuration center.</p>
<p>The configuration center has the following layout:</p>
<ul class="simple">
<li><p>the bottom 6×50 area contains the <code class="docutils literal notranslate"><span class="pre">CFG</span></code> tile</p></li>
<li><p>the 6×25 area above that contains the bitstream encryption logic; single-region devices don’t have this area, and thus don’t support bitstream encryption</p></li>
<li><p>the top 6×25 area contains the <code class="docutils literal notranslate"><span class="pre">XADC</span></code> tile; this tile is not present in single-region devices</p></li>
</ul>
<p>On devices that are 1 or 2 regions wide, this hole will effectively result in 6 CLBLL columns that have no <code class="docutils literal notranslate"><span class="pre">CLBLL</span></code> tiles at all. While effectively useless, these columns are still counted for bitstream column numbering (and have corresponding bitstream data in uncompressed bitstreams).</p>
<p>Horizontal interconnect lines jump over the skipped <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles.  Vertical interconnect lines cannot cross the hole, and are bounced back at the top and bottom boundaries.</p>
</section>
<section id="processing-system">
<h3>Processing system<a class="headerlink" href="#processing-system" title="Link to this heading"></a></h3>
<p>Some Virtex 7 devices are associated with a processing system, consisting of an ARM-based system-on-chip. They are commonly known as Zynq 7000 devices.</p>
<p>When present, such processing system is located in the top left corner of the device.  It is effectively a 19×100 tile hole. The 18×100 area on the left is completely devoid of any interconnect, while the rightmost column retains its <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles and is used to connect inputs/outputs to the PS. The columns covered by the PS are always the following, in sequence:</p>
<ul class="simple">
<li><p>IO column</p></li>
<li><p>CMT column</p></li>
<li><p>4×CLBLM column</p></li>
<li><p>BRAM column</p></li>
<li><p>2× CLBLM column</p></li>
<li><p>DSP column</p></li>
<li><p>4× CLBLM column</p></li>
<li><p>DSP column</p></li>
<li><p>2× CLBLM column</p></li>
<li><p>BRAM column</p></li>
<li><p>CLBLL column (the <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles here are retained and used for connecting PS instead of <code class="docutils literal notranslate"><span class="pre">CLBLL</span></code>)</p></li>
</ul>
<p>On the smallest devices, the processing system complex can occupy the entirety of these columns, making them effectively almost nonexistent.  However, these columns still count for bitstream geometry purposes, and contain (dummy) data in uncompressed bitstreams.</p>
<p>No interconnect lines can cross this hole (there is nothing on the other side anyway) — they are bounced back at the bottom and right boundaries.</p>
<p>If the processing system exists, the configuration center always occupies the same two regions as the processing system.</p>
</section>
<section id="pci-express-holes">
<h3>PCI Express holes<a class="headerlink" href="#pci-express-holes" title="Link to this heading"></a></h3>
<p>The PCI Express hard logic on Virtex 7 devices doesn’t have a dedicated column — it is instead put into a special hole in the middle of the fabric, somewhere close to transceivers.  It comes in two versions:</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">PCIE_L</span></code> / <code class="docutils literal notranslate"><span class="pre">PCIE_R</span></code> tiles, which require a 4×25 hole; the bottom of the hole is aligned to the bottom of a clock region</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">PCIE3</span></code> tile, which requires a 6×50 hole; the bottom (and top) of the hole are aligned to HCLK rows of adjacent regions</p></li>
</ul>
<p>The leftmost and rightmost columns of the hole retain their <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles, while the internal 2×25 or 4×50 area has no interconnect at all. Like with the configuration center holes, horizontal interconnect lines jump across this area, while vertical lines are turned away at top and bottom borders.</p>
<p>The holes cover the following column types:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PCIE_L</span></code>:</p>
<ul>
<li><p>BRAM, right column of a pair (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles)</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>CLBLM (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">PCIE_R</span></code>:</p>
<ul>
<li><p>CLBLM, right column of a pair (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles)</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>BRAM (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">PCIE3</span></code>:</p>
<ul>
<li><p>CLBLM, right column of a pair (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles)</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>BRAM (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles)</p></li>
</ul>
</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">PCIE_L</span></code> and <code class="docutils literal notranslate"><span class="pre">PCIE_R</span></code> tiles are effectively mirrored versions of one another. <code class="docutils literal notranslate"><span class="pre">PCIE_L</span></code> and <code class="docutils literal notranslate"><span class="pre">PCIE_R</span></code> appear on devices with <code class="docutils literal notranslate"><span class="pre">GTP</span></code> or <code class="docutils literal notranslate"><span class="pre">GTX</span></code> transceivers, while <code class="docutils literal notranslate"><span class="pre">PCIE</span></code> tiles appear on devices with <code class="docutils literal notranslate"><span class="pre">GTH</span></code> transceivers.</p>
</section>
<section id="gtp-and-gtx-right-column-holes">
<h3><code class="docutils literal notranslate"><span class="pre">GTP</span></code> and <code class="docutils literal notranslate"><span class="pre">GTX</span></code> right column holes<a class="headerlink" href="#gtp-and-gtx-right-column-holes" title="Link to this heading"></a></h3>
<p>On some devices, the right edge of the device is shared by plain IO and <code class="docutils literal notranslate"><span class="pre">GTX</span></code> or <code class="docutils literal notranslate"><span class="pre">GTP</span></code> transceivers. In such case, since transceivers are larger than plain IO, the transceivers effectively become a hole in the grid.</p>
<p>The hole is 7 columns across. They are always:</p>
<ul class="simple">
<li><p>BRAM (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles that feed the <code class="docutils literal notranslate"><span class="pre">GTP</span></code> / <code class="docutils literal notranslate"><span class="pre">GTX</span></code> tile)</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>CMT</p></li>
<li><p>IO</p></li>
</ul>
<p>The height of the hole is a multiple of 50 tiles (ie. a region). It is always located at either the bottom or the top of the right IO column.  Like with processing system, the interconnect lines are bounced back at the edges, having nowhere to go anyway.</p>
<p>This type of hole has a unique property of affecting bitstream layout: for bitstream geometry purposes, the replaced columns don’t exist in the bitstream at all for the affected regions, and the BRAM column is replaced with a GT column in these regions. This does not apply to any other hole type.</p>
</section>
<section id="middle-gtp-holes">
<h3>Middle <code class="docutils literal notranslate"><span class="pre">GTP</span></code> holes<a class="headerlink" href="#middle-gtp-holes" title="Link to this heading"></a></h3>
<p>On the <code class="docutils literal notranslate"><span class="pre">xc7a200t</span></code> device, <code class="docutils literal notranslate"><span class="pre">GTP</span></code> tiles are, uniquely, inserted in the middle of the bottom and top edges. These are called the middle <code class="docutils literal notranslate"><span class="pre">GTP</span></code> holes. They are 19×50 tiles in size, and contain a single <code class="docutils literal notranslate"><span class="pre">GTP</span></code> tile.</p>
<p>The left middle <code class="docutils literal notranslate"><span class="pre">GTP</span></code> hole covers the following columns:</p>
<ul class="simple">
<li><p>CLBLM, the right column of the pair (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles that feed the <code class="docutils literal notranslate"><span class="pre">GTP</span></code> tile)</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>BRAM</p></li>
<li><p>2×CLBLM</p></li>
<li><p>DSP</p></li>
<li><p>4×CLBLM</p></li>
<li><p>DSP</p></li>
<li><p>2×CLBLM</p></li>
<li><p>BRAM</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
</ul>
<p>The leftmost column retains its <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles, while the remaining columns have no interconnect.</p>
<p>The right middle <code class="docutils literal notranslate"><span class="pre">GTP</span></code> hole covers the following columns:</p>
<ul class="simple">
<li><p>CLBLM (the left column of the pair)</p></li>
<li><p>CLBLL</p></li>
<li><p>BRAM</p></li>
<li><p>2×CLBLM</p></li>
<li><p>DSP</p></li>
<li><p>4×CLBLM</p></li>
<li><p>DSP</p></li>
<li><p>2×CLBLM</p></li>
<li><p>BRAM</p></li>
<li><p>CLBLM</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM</p></li>
<li><p>CLBLL</p></li>
<li><p>CLBLM (has <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles)</p></li>
</ul>
<p>The rightmost column retains its <code class="docutils literal notranslate"><span class="pre">INT</span></code> tiles, while the remaining columns have no interconnect.</p>
<p>Despite being in the middle of a region, there are no interconnect lines passing across these holes — horizontal interconnect is bounced back at both left and right edges of the hole. Vertical interconnect is likewise bounced back, but there wouldn’t be anywhere for it to go anyway.</p>
</section>
</section>
<section id="bitstream-geometry">
<h2>Bitstream geometry<a class="headerlink" href="#bitstream-geometry" title="Link to this heading"></a></h2>
<p>The bitstream is made of frames, which come in two types:</p>
<ul class="simple">
<li><p>0: main area</p></li>
<li><p>1: BRAM data area</p></li>
</ul>
<p>The bitstream is split by region — each frame covers 50 interconnect rows plus the HCLK row, and the frame size is independent of device size.</p>
<p>Frames are identified by their type, region, major and minor numbers. The major number identifies a column (interconnect column or the clock spine), and the minor number identifies a frame within a column. The major numbers are counted separately for each type of frame.</p>
<p>For bitstream purposes, the regions are counted using the top of the <code class="docutils literal notranslate"><span class="pre">CFG</span></code> tile as the origin. Top region 0, if present, is considered to be the region that contains the <code class="docutils literal notranslate"><span class="pre">XADC</span></code> tile, top region 1 is the region above that, and so on. Bottom region 0 is considered to be the region that contains the <code class="docutils literal notranslate"><span class="pre">CFG</span></code> tile, bottom region 1 is the region below that, and so on.</p>
<p>The main area contains all interconnect columns, with major numbers assigned sequentially from 0 on the left, one for each column. If there is a right-edge GT transceiver hole in a given region, it is treated specially: the last BRAM column is instead treated as if it was a GT column within this region, and subsequent columns are entirely omitted. The columns have the following widths:</p>
<ul class="simple">
<li><p>CLBLL and CLBLM columns: 36 frames</p></li>
<li><p>BRAM column: 28 frames (unless it is the last BRAM column in a region with right-edge GT hole)</p></li>
<li><p>DSP column: 28 frames</p></li>
<li><p>IO column: 42 frames</p></li>
<li><p>CMT column: 30 frames</p></li>
<li><p>center column: 30 frames</p></li>
<li><p>clock spine column: 30 frames</p></li>
<li><p>GT column: 32 frames (also applies to the last BRAM column in a region with right-edge GT hole)</p></li>
</ul>
<p>The BRAM data area contains 128 frames for each BRAM column, in order from left. The major numbers are assigned sequentially for each BRAM column starting from 0.</p>
<p>Each frame is exactly 3232 bits long and has the following structure:</p>
<ul class="simple">
<li><p>bits 0-1599: interconnect rows 0 to 24 of the region, 64 bits per row</p></li>
<li><p>bits 1600-1612: ECC</p></li>
<li><p>bits 1613-1631: HCLK row</p></li>
<li><p>bits 1632-3231: interconnect rows 25 to 49 of the region, 64 bits per row</p></li>
</ul>
<p>Every interconnect tile thus corresponds to a bitstream tile that is 28×64 to 42×64 bits. The actual interconnect tile is 26×64 bits, occupying the first 26 frames of the column. If <code class="docutils literal notranslate"><span class="pre">INTF</span></code> is present in the tile, it occupies leftover space in frames 0-3. If <code class="docutils literal notranslate"><span class="pre">INTF.DELAY</span></code> tile is present in the tile, it occupies leftover space in frames 0-3, as well as frames 26-27.  The remaining frames, as well as unused space in frames 0-3 and 26-27 where applicable, are used for configuring the associated primitive tile.</p>
<p>The HCLK row has smaller bitstream tiles, 28×19 to 42×19 bits in size.</p>
<p>The BRAM data tiles are 128×320 bits in size (covering the height of 5 interconnect rows). The area at intersection with HCLK rows is unused.</p>
<section id="ecc">
<h3>ECC<a class="headerlink" href="#ecc" title="Link to this heading"></a></h3>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>reverse, document</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Virtex 7" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="interconnect.html" class="btn btn-neutral float-right" title="Interconnect" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Wanda.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>