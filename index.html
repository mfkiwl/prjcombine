<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Project Combine - Project Combine</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">Project Combine</h1>

                    <div class="right-buttons">

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="project-combine"><a class="header" href="#project-combine">Project Combine</a></h1>
<p>Project Combine aims to provide comprehensive documentation of CPLD and FPGA internals, particularly in the areas where vendor documentation is lacking, such as routing structure, bitstream format, and internal timings.  This includes both prose (such as this book) and machine-readable databases that would be useful for toolchain development.</p>
<p>Project Combine covers multiple <em>targets</em> (ie. supported device families).  The targets vary widely in their completeness levels.  While Project Combine aims to share data structures and code paths between targets as much as possible, this is not always practical due to the sheer variety of supported devices.</p>
<p>Project Combine consists of:</p>
<ol>
<li>
<p>The database files (<code>databases/</code> directory), one or more per target.  Some targets have a single database file covering all devices, while others have per-device databases, or something in between.</p>
<p>Each individual database file is provided in two forms:</p>
<ul>
<li>zstd-compressed bincode-serialized Rust structures, suitable for use with the provided Rust crates</li>
<li>JSON</li>
</ul>
<p>The database format is target-dependent, though there are broad similarities.</p>
<p>One of the project goals is providing highly compact databases, via aggressive deduplication.  For instance, the databases do not contain the full list of primitives and nets for a given FPGA â€” instead, they contain just enough information to allow recreating the full geometry via target-specific means.  You can use the provided Rust code to expand and navigate this information.</p>
</li>
<li>
<p>The mdBook documentation (<code>docs/</code> directory), which you are reading right now.  Large parts of the documentation are generated from the database files (via an mdBook plugin implemented in <code>docgen/</code>).  The goal is to include all data within the database as part of the documentation, but this is far from done.</p>
</li>
<li>
<p>The public interface Rust crates (<code>public/</code> directory).  They provide:</p>
<ul>
<li>data structures for deserializing the binary database</li>
<li>functions for recreating the full tile grid of a given device from the target-specific description</li>
<li>all sort of target-specific queries about a device (eg. list all IO pads in BSCAN order)</li>
<li>parsing and emitting bitstreams</li>
</ul>
<p>The public crates include:</p>
<ul>
<li><code>prjcombine-types</code>: common data types used across multiple targets
<ul>
<li><code>tiledb</code>: bitstream format description (for the databases)</li>
<li><code>speed</code>: raw speed data description (for the databases)</li>
<li><code>units</code>: newtypes over <code>f64</code> associated with physical units (used for speed data)</li>
<li><code>bscan</code>: boundary scan chain description</li>
</ul>
</li>
<li><code>prjcombine-interconnect</code>: implements data structures for FPGA-like tile grids and general interconnect; this is the crate that FPGA targets are generally based around</li>
<li><code>prjcombine-jed</code>: implements JESD3 bitstream format, also known as the <code>.jed</code> file format</li>
<li><code>prjcombine-xilinx-bitstream</code>: the Xilinx bitstream format (common across Xilinx FPGA targets)</li>
<li>per-target crates (FPGA):
<ul>
<li><code>prjcombine-siliconblue</code>: SiliconBlue / Lattice iCE40 and iCE65</li>
<li><code>prjcombine-xc2000</code>: Xilinx XC2000, XC3000, XC4000 (including all its variants, such as Spartan and Spartan XL), XC5200</li>
<li><code>prjcombine-virtex</code>: Xilinx Virtex, Virtex-E, Spartan-II, Spartan-IIE</li>
<li><code>prjcombine-virtex2</code>: Xilinx Virtex II, Virtex II Pro, Spartan 3, Spartan 3E, Spartan 3A, Spartan 3A DSP</li>
<li><code>prjcombine-virtex4</code>: Xilinx Virtex 4, Virtex 5, Virtex 6, Virtex 7 (including its variants: Spartan 7, Artix 7, Kintex 7, Zynq 7000)</li>
<li><code>prjcombine-spartan6</code>: Xilinx Spartan 6</li>
<li><code>prjcombine-ultrascale</code>: Xilinx UltraScale and UltraScale+</li>
<li><code>prjcombine-versal</code>: Xilinx / AMD Versal</li>
</ul>
</li>
<li>per-target crates (CPLD):
<ul>
<li><code>prjcombine-xc9500</code>: Xilinx XC9500, XC9500XL, XC9500XV</li>
<li><code>prjcombine-xpla3</code>: Phillips / Xilinx Coolrunner XPLA3</li>
<li><code>prjcombine-coolrunner2</code>: Xilinx Coolrunner 2</li>
</ul>
</li>
</ul>
</li>
<li>
<p>The reverse engineering tools (<code>re/</code> directory).</p>
<p>These crates contain code that has been used to create the database files.  Because of their characteristics (essentially, this is the "only has to work once" kind of code), little to no documentation is provided for them, or their usage.  More often than not, they require very specific environment to work in that is hard to recreate (such as heavily patched versions of vendor toolchains).</p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="terminology.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="terminology.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>



        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
