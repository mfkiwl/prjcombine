<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bitstream structure — XC9500XL/XV &mdash; Project Combine  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Database schema" href="database.html" />
    <link rel="prev" title="Bitstream structure — XC9500" href="bitstream-xc9500.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Project Combine
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Xilinx XC9500, XC9500XL, XC9500XV CPLDs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure.html">Device structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="bitstream-xc9500.html">Bitstream structure — XC9500</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Bitstream structure — XC9500XL/XV</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jed-format-mapping">JED format mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fuses-product-terms">Fuses — product terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fuses-macrocells">Fuses — macrocells</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fuses-fb-inputs">Fuses — FB inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fuses-per-fb-bits-and-globals">Fuses — per-FB bits and globals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html">Database schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="db-devices.html">Database — devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="jtag.html">JTAG interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../xpla3/index.html">Xilinx XPLA3 CPLDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xc2c/index.html">Xilinx Coolrunner II CPLDs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Project Combine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Xilinx XC9500, XC9500XL, XC9500XV CPLDs</a></li>
      <li class="breadcrumb-item active">Bitstream structure — XC9500XL/XV</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/xc9500/bitstream-xc9500xl.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bitstream-structure-xc9500xl-xv">
<h1>Bitstream structure — XC9500XL/XV<a class="headerlink" href="#bitstream-structure-xc9500xl-xv" title="Link to this heading"></a></h1>
<p>The main differences from XC9500 are:</p>
<ol class="arabic simple">
<li><p>The UIM wire-AND area is completely gone, only the main areas exist.</p></li>
<li><p>The main area has 108 rows per FB instead of 72.</p></li>
<li><p>Unprogrammed fuse state is <code class="docutils literal notranslate"><span class="pre">0</span></code>, programmed fuse state is <code class="docutils literal notranslate"><span class="pre">1</span></code>.
Thus, the sense of every bitstream bit is inverted from the XC9500 version.</p></li>
<li><p>While in XC9500 all areas are loaded sequentially, in XC9500XL/XV the areas
are loaded in parallel.  Thus, the JTAG unit is not a byte, but a word of
size <code class="docutils literal notranslate"><span class="pre">8</span> <span class="pre">*</span> <span class="pre">num_fbs</span></code>.  Likewise, the bytes for each FB are interleaved
in the JED format.</p></li>
</ol>
<p>On a high level, the whole bitstream is split into “areas”.  Each FB
of the device corresponds to one area.</p>
<p>Each area is made of 108 “rows”.  Each row is made of 15 “columns”.
Each column is made of 6 or 8 bits: columns 0-8 are made of 8 bits, while
columns 9-14 are made of 6 bits.</p>
<p>The low 6 bits of every column are used to store product term masks, and
the high 2 bits of columns 0-8 are used to store everything else.</p>
<p>When programmed or read via JTAG, the bitstream is transmitted as words.
Each word is 8 bits per FB.  Each word of the bitstream has its address.
Not all addresses are valid, and valid addresses are not contiguous.
Address is 16 bits long, and is split to several fields:</p>
<ul class="simple">
<li><p>bits 12-15: FB index (only used for JTAG <code class="docutils literal notranslate"><span class="pre">FERASE</span></code> operation, doesn’t matter for reading and programming)</p></li>
<li><p>bits 5-11: row</p></li>
<li><p>bits 3-4: column / 5</p></li>
<li><p>bits 0-2: column % 5</p></li>
</ul>
<p>The unprogrammed state of a bit on XC9500XL/XV is <code class="docutils literal notranslate"><span class="pre">0</span></code>.
The programmed state is <code class="docutils literal notranslate"><span class="pre">1</span></code>.  Thus, whenever a boolean fuse is mentioned
in the documentation, the “true” value is actually represented as <code class="docutils literal notranslate"><span class="pre">1</span></code>
in the bitstream.</p>
<section id="jed-format-mapping">
<h2>JED format mapping<a class="headerlink" href="#jed-format-mapping" title="Link to this heading"></a></h2>
<p>In the JED format, all fuses of the device are simply concatenated in order,
skipping over invalid addresses.  The bytes are <em>not</em> padded to 8 bits, but
have their native size.  Thus, converting from JED fuse index to device
address involves some complex calculations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">row_bits</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="mi">9</span> <span class="o">+</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span>
<span class="n">total_bits</span> <span class="o">=</span> <span class="n">row_bits</span> <span class="o">*</span> <span class="mi">108</span>

<span class="k">def</span> <span class="nf">jed_to_jtag</span><span class="p">(</span><span class="n">fuse</span><span class="p">):</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">fuse</span> <span class="o">//</span> <span class="n">row_bits</span>
    <span class="n">fuse</span> <span class="o">%=</span> <span class="n">row_bits</span>
    <span class="k">if</span> <span class="n">fuse</span> <span class="o">&lt;</span> <span class="mi">8</span> <span class="o">*</span> <span class="mi">9</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span><span class="p">:</span>
        <span class="n">column</span> <span class="o">=</span> <span class="n">fuse</span> <span class="o">//</span> <span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span><span class="p">)</span>
        <span class="n">fuse</span> <span class="o">%=</span> <span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span><span class="p">)</span>
        <span class="n">fb</span> <span class="o">=</span> <span class="n">fuse</span> <span class="o">//</span> <span class="mi">8</span>
        <span class="n">bit</span> <span class="o">=</span> <span class="n">fuse</span> <span class="o">%</span> <span class="mi">8</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fuse</span> <span class="o">-=</span> <span class="mi">8</span> <span class="o">*</span> <span class="mi">9</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span>
        <span class="n">column</span> <span class="o">=</span> <span class="mi">9</span> <span class="o">+</span> <span class="n">fuse</span> <span class="o">//</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span><span class="p">)</span>
        <span class="n">fuse</span> <span class="o">%=</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span><span class="p">)</span>
        <span class="n">fb</span> <span class="o">=</span> <span class="n">fuse</span> <span class="o">//</span> <span class="mi">6</span>
        <span class="n">bit</span> <span class="o">=</span> <span class="n">fuse</span> <span class="o">%</span> <span class="mi">6</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">row</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span> <span class="o">|</span>
        <span class="p">(</span><span class="n">column</span> <span class="o">//</span> <span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span> <span class="o">|</span>
        <span class="p">(</span><span class="n">column</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span>
    <span class="p">),</span> <span class="p">(</span><span class="n">fb</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">bit</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">jtag_to_jed</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="n">bit</span><span class="p">):</span>
    <span class="n">fb</span> <span class="o">=</span> <span class="n">bit</span> <span class="o">//</span> <span class="mi">8</span>
    <span class="n">bit</span> <span class="o">%=</span> <span class="mi">8</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">addr</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span> <span class="o">&amp;</span> <span class="mh">0x7f</span>
    <span class="k">assert</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="mi">108</span>
    <span class="n">col_hi</span> <span class="o">=</span> <span class="n">addr</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span> <span class="o">&amp;</span> <span class="mi">3</span>
    <span class="k">assert</span> <span class="n">col_hi</span> <span class="o">&lt;</span> <span class="mi">3</span>
    <span class="n">col_lo</span> <span class="o">=</span> <span class="n">addr</span> <span class="o">&amp;</span> <span class="mi">7</span>
    <span class="k">assert</span> <span class="n">col_lo</span> <span class="o">&lt;</span> <span class="mi">5</span>
    <span class="n">column</span> <span class="o">=</span> <span class="n">col_hi</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">col_lo</span>
    <span class="k">if</span> <span class="n">column</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">:</span>
        <span class="n">cfuse</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span> <span class="o">+</span> <span class="n">fb</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">bit</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cfuse</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="p">(</span><span class="n">column</span> <span class="o">-</span> <span class="mi">9</span><span class="p">)</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">device</span><span class="o">.</span><span class="n">num_fbs</span> <span class="o">+</span> <span class="n">fb</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">+</span> <span class="n">bit</span>
    <span class="k">return</span> <span class="n">row</span> <span class="o">*</span> <span class="n">row_bits</span> <span class="o">+</span> <span class="n">cfuse</span>
</pre></div>
</div>
</section>
<section id="fuses-product-terms">
<h2>Fuses — product terms<a class="headerlink" href="#fuses-product-terms" title="Link to this heading"></a></h2>
<p>The product term masks are stored in bits 0-5 of every column and every row of the main area.
The formulas are as follows (unchanged from XC9500, but now with more rows):</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FB[i].MC[j].PT[k].IM[l].P</span></code> is stored at:</p>
<ul class="simple">
<li><p>row: <code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">+</span> <span class="pre">1</span></code></p></li>
<li><p>column: <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">+</span> <span class="pre">(j</span> <span class="pre">%</span> <span class="pre">3)</span> <span class="pre">*</span> <span class="pre">5</span></code></p></li>
<li><p>bit: <code class="docutils literal notranslate"><span class="pre">j</span> <span class="pre">//</span> <span class="pre">3</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">FB[i].MC[j].PT[k].IM[l].N</span></code> is stored at:</p>
<ul class="simple">
<li><p>row: <code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">*</span> <span class="pre">2</span></code></p></li>
<li><p>column: <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">+</span> <span class="pre">(j</span> <span class="pre">%</span> <span class="pre">3)</span> <span class="pre">*</span> <span class="pre">5</span></code></p></li>
<li><p>bit: <code class="docutils literal notranslate"><span class="pre">j</span> <span class="pre">//</span> <span class="pre">3</span></code></p></li>
</ul>
</li>
</ol>
</section>
<section id="fuses-macrocells">
<h2>Fuses — macrocells<a class="headerlink" href="#fuses-macrocells" title="Link to this heading"></a></h2>
<p>Per-MC config fuses (that are not product term masks) are stored in bits 6-7 of
columns 0-8 of rows 12-49 of the main area.  The formulas are as follows:</p>
<ul class="simple">
<li><p>row: corresponds to fuse function</p></li>
<li><p>column: <code class="docutils literal notranslate"><span class="pre">mc_idx</span> <span class="pre">%</span> <span class="pre">9</span></code></p></li>
<li><p>bit: <code class="docutils literal notranslate"><span class="pre">6</span> <span class="pre">+</span> <span class="pre">mc_idx</span> <span class="pre">//</span> <span class="pre">9</span></code></p></li>
</ul>
<table class="docutils align-default prjcombine-tile">
<tr><th>Row</th><th>Bit</th></tr>
<tr><td>12</td><td><a href="#bits-mc-PT.0.ALLOC">PT.0.ALLOC[0]</a></td></tr>
<tr><td>13</td><td><a href="#bits-mc-PT.0.ALLOC">PT.0.ALLOC[1]</a></td></tr>
<tr><td>14</td><td><a href="#bits-mc-PT.1.ALLOC">PT.1.ALLOC[0]</a></td></tr>
<tr><td>15</td><td><a href="#bits-mc-PT.1.ALLOC">PT.1.ALLOC[1]</a></td></tr>
<tr><td>16</td><td><a href="#bits-mc-PT.2.ALLOC">PT.2.ALLOC[0]</a></td></tr>
<tr><td>17</td><td><a href="#bits-mc-PT.2.ALLOC">PT.2.ALLOC[1]</a></td></tr>
<tr><td>18</td><td><a href="#bits-mc-PT.3.ALLOC">PT.3.ALLOC[0]</a></td></tr>
<tr><td>19</td><td><a href="#bits-mc-PT.3.ALLOC">PT.3.ALLOC[1]</a></td></tr>
<tr><td>20</td><td><a href="#bits-mc-PT.4.ALLOC">PT.4.ALLOC[0]</a></td></tr>
<tr><td>21</td><td><a href="#bits-mc-PT.4.ALLOC">PT.4.ALLOC[1]</a></td></tr>
<tr><td>22</td><td><a href="#bits-mc-INV">INV</a></td></tr>
<tr><td>23</td><td><a href="#bits-mc-IMPORT_UP_ALLOC">IMPORT_UP_ALLOC</a></td></tr>
<tr><td>24</td><td><a href="#bits-mc-IMPORT_DOWN_ALLOC">IMPORT_DOWN_ALLOC</a></td></tr>
<tr><td>25</td><td><a href="#bits-mc-EXPORT_DIR">EXPORT_DIR</a></td></tr>
<tr><td>26</td><td><a href="#bits-mc-SUM_HP">SUM_HP</a></td></tr>
<tr><td>27</td><td><a href="#bits-mc-OE_MUX">OE_MUX[0]</a></td></tr>
<tr><td>28</td><td><a href="#bits-mc-OE_MUX">OE_MUX[1]</a></td></tr>
<tr><td>29</td><td><a href="#bits-mc-OE_MUX">OE_MUX[2]</a></td></tr>
<tr><td>30</td><td><a href="#bits-mc-OE_INV">OE_INV</a></td></tr>
<tr><td>31</td><td>-</td></tr>
<tr><td>32</td><td><a href="#bits-mc-OUT_MUX">OUT_MUX</a></td></tr>
<tr><td>33</td><td><a href="#bits-mc-CLK_MUX">CLK_MUX[0]</a></td></tr>
<tr><td>34</td><td><a href="#bits-mc-CLK_MUX">CLK_MUX[1]</a></td></tr>
<tr><td>35</td><td><a href="#bits-mc-CLK_INV">CLK_INV</a></td></tr>
<tr><td>36</td><td><a href="#bits-mc-CE_MUX">CE_MUX[0]</a></td></tr>
<tr><td>37</td><td><a href="#bits-mc-CE_MUX">CE_MUX[1]</a></td></tr>
<tr><td>38</td><td>-</td></tr>
<tr><td>39</td><td><a href="#bits-mc-REG_MODE">REG_MODE</a></td></tr>
<tr><td>40</td><td><a href="#bits-mc-RST_MUX">RST_MUX</a></td></tr>
<tr><td>41</td><td><a href="#bits-mc-SET_MUX">SET_MUX</a></td></tr>
<tr><td>42</td><td><a href="#bits-mc-REG_INIT">REG_INIT</a></td></tr>
<tr><td>43</td><td><a href="#bits-mc-IOB_GND">IOB_GND</a></td></tr>
<tr><td>44</td><td><a href="#bits-mc-IOB_SLEW">IOB_SLEW</a></td></tr>
<tr><td>45</td><td><a href="#bits-mc-PT.0.HP">PT.0.HP</a></td></tr>
<tr><td>46</td><td><a href="#bits-mc-PT.1.HP">PT.1.HP</a></td></tr>
<tr><td>47</td><td><a href="#bits-mc-PT.2.HP">PT.2.HP</a></td></tr>
<tr><td>48</td><td><a href="#bits-mc-PT.3.HP">PT.3.HP</a></td></tr>
<tr><td>49</td><td><a href="#bits-mc-PT.4.HP">PT.4.HP</a></td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-CE_MUX">
<tr><th>CE_MUX</th><th>37</th><th>36</th></tr>
<tr><td>NONE</td><td>0</td><td>0</td></tr>
<tr><td>PT2</td><td>0</td><td>1</td></tr>
<tr><td>PT3</td><td>1</td><td>0</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-CLK_INV">
<tr><th>CLK_INV</th><th>35</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-CLK_MUX">
<tr><th>CLK_MUX</th><th>34</th><th>33</th></tr>
<tr><td>FCLK1</td><td>0</td><td>0</td></tr>
<tr><td>FCLK2</td><td>0</td><td>1</td></tr>
<tr><td>FCLK0</td><td>1</td><td>0</td></tr>
<tr><td>PT</td><td>1</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-EXPORT_DIR">
<tr><th>EXPORT_DIR</th><th>25</th></tr>
<tr><td>UP</td><td>0</td></tr>
<tr><td>DOWN</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-IMPORT_DOWN_ALLOC">
<tr><th>IMPORT_DOWN_ALLOC</th><th>24</th></tr>
<tr><td>EXPORT</td><td>0</td></tr>
<tr><td>SUM</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-IMPORT_UP_ALLOC">
<tr><th>IMPORT_UP_ALLOC</th><th>23</th></tr>
<tr><td>EXPORT</td><td>0</td></tr>
<tr><td>SUM</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-INV">
<tr><th>INV</th><th>22</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-IOB_GND">
<tr><th>IOB_GND</th><th>43</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-IOB_SLEW">
<tr><th>IOB_SLEW</th><th>44</th></tr>
<tr><td>SLOW</td><td>0</td></tr>
<tr><td>FAST</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-OE_INV">
<tr><th>OE_INV</th><th>30</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-OE_MUX">
<tr><th>OE_MUX</th><th>29</th><th>28</th><th>27</th></tr>
<tr><td>PT</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>FOE0</td><td>0</td><td>0</td><td>1</td></tr>
<tr><td>FOE1</td><td>0</td><td>1</td><td>1</td></tr>
<tr><td>FOE2</td><td>1</td><td>0</td><td>1</td></tr>
<tr><td>FOE3</td><td>1</td><td>1</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-OUT_MUX">
<tr><th>OUT_MUX</th><th>32</th></tr>
<tr><td>FF</td><td>0</td></tr>
<tr><td>COMB</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.0.ALLOC">
<tr><th>PT.0.ALLOC</th><th>13</th><th>12</th></tr>
<tr><td>NONE</td><td>0</td><td>0</td></tr>
<tr><td>SUM</td><td>0</td><td>1</td></tr>
<tr><td>EXPORT</td><td>1</td><td>0</td></tr>
<tr><td>SPECIAL</td><td>1</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.0.HP">
<tr><th>PT.0.HP</th><th>45</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.1.ALLOC">
<tr><th>PT.1.ALLOC</th><th>15</th><th>14</th></tr>
<tr><td>NONE</td><td>0</td><td>0</td></tr>
<tr><td>SUM</td><td>0</td><td>1</td></tr>
<tr><td>EXPORT</td><td>1</td><td>0</td></tr>
<tr><td>SPECIAL</td><td>1</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.1.HP">
<tr><th>PT.1.HP</th><th>46</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.2.ALLOC">
<tr><th>PT.2.ALLOC</th><th>17</th><th>16</th></tr>
<tr><td>NONE</td><td>0</td><td>0</td></tr>
<tr><td>SUM</td><td>0</td><td>1</td></tr>
<tr><td>EXPORT</td><td>1</td><td>0</td></tr>
<tr><td>SPECIAL</td><td>1</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.2.HP">
<tr><th>PT.2.HP</th><th>47</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.3.ALLOC">
<tr><th>PT.3.ALLOC</th><th>19</th><th>18</th></tr>
<tr><td>NONE</td><td>0</td><td>0</td></tr>
<tr><td>SUM</td><td>0</td><td>1</td></tr>
<tr><td>EXPORT</td><td>1</td><td>0</td></tr>
<tr><td>SPECIAL</td><td>1</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.3.HP">
<tr><th>PT.3.HP</th><th>48</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.4.ALLOC">
<tr><th>PT.4.ALLOC</th><th>21</th><th>20</th></tr>
<tr><td>NONE</td><td>0</td><td>0</td></tr>
<tr><td>SUM</td><td>0</td><td>1</td></tr>
<tr><td>EXPORT</td><td>1</td><td>0</td></tr>
<tr><td>SPECIAL</td><td>1</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-PT.4.HP">
<tr><th>PT.4.HP</th><th>49</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-REG_INIT">
<tr><th>REG_INIT</th><th>42</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-REG_MODE">
<tr><th>REG_MODE</th><th>39</th></tr>
<tr><td>DFF</td><td>0</td></tr>
<tr><td>TFF</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-RST_MUX">
<tr><th>RST_MUX</th><th>40</th></tr>
<tr><td>PT</td><td>0</td></tr>
<tr><td>FSR</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-SET_MUX">
<tr><th>SET_MUX</th><th>41</th></tr>
<tr><td>PT</td><td>0</td></tr>
<tr><td>FSR</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-mc-SUM_HP">
<tr><th>SUM_HP</th><th>26</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
</section>
<section id="fuses-fb-inputs">
<h2>Fuses — FB inputs<a class="headerlink" href="#fuses-fb-inputs" title="Link to this heading"></a></h2>
<p>The FB input mux configuraton is stored in rows 50-76, columns 0-8, bits 6-7.
<code class="docutils literal notranslate"><span class="pre">FB[i].IM[j].MUX</span></code> has 9 bits and is stored at the following coordinates:</p>
<ul class="simple">
<li><p>row: <code class="docutils literal notranslate"><span class="pre">50</span> <span class="pre">+</span> <span class="pre">j</span> <span class="pre">%</span> <span class="pre">27</span></code></p></li>
<li><p>column: mux fuse index (0-8)</p></li>
<li><p>bit: 6 if <code class="docutils literal notranslate"><span class="pre">j</span> <span class="pre">&lt;</span> <span class="pre">27</span></code>, 7 otherwise</p></li>
</ul>
<p>The exact bit assignments are irregular and should be obtained from the database.</p>
</section>
<section id="fuses-per-fb-bits-and-globals">
<h2>Fuses — per-FB bits and globals<a class="headerlink" href="#fuses-per-fb-bits-and-globals" title="Link to this heading"></a></h2>
<p>Per-FB bits are stored in row 78, columns 0-8, bits 6-7.  The bits are (row, bit, column):</p>
<table class="docutils align-default prjcombine-tile">
<tr><th rowspan="3">Row</th><th colspan="18">Bit, column</th></tr>
<tr><th colspan="9">6</th><th colspan="9">7</th></tr>
<tr><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th></tr>
<tr><td>11</td>
<td><a href="#bits-fb-WRITE_PROT" title="WRITE_PROT">X</a></td><td>-</td><td>-</td><td><a href="#bits-fb-READ_PROT" title="READ_PROT">X</a></td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td></tr>
<tr><td>78</td>
<td><a href="#bits-fb-ENABLE" title="ENABLE">X</a></td><td><a href="#bits-fb-EXPORT_ENABLE" title="EXPORT_ENABLE">X</a></td><td>-</td><td>-</td><td>-</td><td>-</td><td><a href="#bits-fb-PULLUP_DISABLE" title="PULLUP_DISABLE">X</a></td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-fb-ENABLE">
<tr><th>ENABLE</th><th>[78, 6, 0]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-fb-EXPORT_ENABLE">
<tr><th>EXPORT_ENABLE</th><th>[78, 6, 1]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-fb-PULLUP_DISABLE">
<tr><th>PULLUP_DISABLE</th><th>[78, 6, 6]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-fb-READ_PROT">
<tr><th>READ_PROT</th><th>[11, 6, 3]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-fb-WRITE_PROT">
<tr><th>WRITE_PROT</th><th>[11, 6, 0]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<p>Global bits are stored in rows (2, 6, 7), columns 0-8, bits 6-7 of FB 0.  The bits are (fb, row, bit, column):</p>
<table class="docutils align-default prjcombine-tile">
<tr><th rowspan="3">FB</th><th rowspan="3">Row</th><th colspan="18">Bit, column</th></tr>
<tr><th colspan="9">6</th><th colspan="9">7</th></tr>
<tr><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th></tr>
<tr><td>0</td><td>2</td>
<td><a href="#bits-global-FSR_INV" title="FSR_INV">X</a></td><td><a href="#bits-global-FCLK0_ENABLE" title="FCLK0_ENABLE">X</a></td><td><a href="#bits-global-FCLK1_ENABLE" title="FCLK1_ENABLE">X</a></td><td><a href="#bits-global-FCLK2_ENABLE" title="FCLK2_ENABLE">X</a></td><td><a href="#bits-global-FOE0_ENABLE" title="FOE0_ENABLE">X</a></td><td><a href="#bits-global-FOE1_ENABLE" title="FOE1_ENABLE">X</a></td><td><a href="#bits-global-FOE2_ENABLE" title="FOE2_ENABLE">X</a></td><td><a href="#bits-global-FOE3_ENABLE" title="FOE3_ENABLE">X</a></td><td><a href="#bits-global-TERM_MODE" title="TERM_MODE">X</a></td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td></tr>
<tr><td>0</td><td>6</td>
<td><a href="#bits-global-USERCODE" title="USERCODE[30]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[28]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[26]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[24]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[22]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[20]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[18]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[16]">X</a></td><td>-</td><td><a href="#bits-global-USERCODE" title="USERCODE[31]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[29]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[27]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[25]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[23]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[21]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[19]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[17]">X</a></td><td>-</td></tr>
<tr><td>0</td><td>7</td>
<td><a href="#bits-global-USERCODE" title="USERCODE[14]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[12]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[10]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[8]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[6]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[4]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[2]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[0]">X</a></td><td>-</td><td><a href="#bits-global-USERCODE" title="USERCODE[15]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[13]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[11]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[9]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[7]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[5]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[3]">X</a></td><td><a href="#bits-global-USERCODE" title="USERCODE[1]">X</a></td><td>-</td></tr>
<tr><td>0</td><td>11</td>
<td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td><a href="#bits-global-DONE" title="DONE">X</a></td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-DONE">
<tr><th>DONE</th><th>[0, 11, 6, 6]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FCLK0_ENABLE">
<tr><th>FCLK0_ENABLE</th><th>[0, 2, 6, 1]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FCLK1_ENABLE">
<tr><th>FCLK1_ENABLE</th><th>[0, 2, 6, 2]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FCLK2_ENABLE">
<tr><th>FCLK2_ENABLE</th><th>[0, 2, 6, 3]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FOE0_ENABLE">
<tr><th>FOE0_ENABLE</th><th>[0, 2, 6, 4]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FOE1_ENABLE">
<tr><th>FOE1_ENABLE</th><th>[0, 2, 6, 5]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FOE2_ENABLE">
<tr><th>FOE2_ENABLE</th><th>[0, 2, 6, 6]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FOE3_ENABLE">
<tr><th>FOE3_ENABLE</th><th>[0, 2, 6, 7]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-FSR_INV">
<tr><th>FSR_INV</th><th>[0, 2, 6, 0]</th></tr>
<tr><td>Non-inverted</td><td>[0]</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-TERM_MODE">
<tr><th>TERM_MODE</th><th>[0, 2, 6, 8]</th></tr>
<tr><td>KEEPER</td><td>0</td></tr>
<tr><td>FLOAT</td><td>1</td></tr>
</table>
<table class="docutils align-default prjcombine-enum" id="bits-global-USERCODE">
<tr><th>USERCODE</th><th>[0, 6, 7, 0]</th><th>[0, 6, 6, 0]</th><th>[0, 6, 7, 1]</th><th>[0, 6, 6, 1]</th><th>[0, 6, 7, 2]</th><th>[0, 6, 6, 2]</th><th>[0, 6, 7, 3]</th><th>[0, 6, 6, 3]</th><th>[0, 6, 7, 4]</th><th>[0, 6, 6, 4]</th><th>[0, 6, 7, 5]</th><th>[0, 6, 6, 5]</th><th>[0, 6, 7, 6]</th><th>[0, 6, 6, 6]</th><th>[0, 6, 7, 7]</th><th>[0, 6, 6, 7]</th><th>[0, 7, 7, 0]</th><th>[0, 7, 6, 0]</th><th>[0, 7, 7, 1]</th><th>[0, 7, 6, 1]</th><th>[0, 7, 7, 2]</th><th>[0, 7, 6, 2]</th><th>[0, 7, 7, 3]</th><th>[0, 7, 6, 3]</th><th>[0, 7, 7, 4]</th><th>[0, 7, 6, 4]</th><th>[0, 7, 7, 5]</th><th>[0, 7, 6, 5]</th><th>[0, 7, 7, 6]</th><th>[0, 7, 6, 6]</th><th>[0, 7, 7, 7]</th><th>[0, 7, 6, 7]</th></tr>
<tr><td>Non-inverted</td><td>[31]</td><td>[30]</td><td>[29]</td><td>[28]</td><td>[27]</td><td>[26]</td><td>[25]</td><td>[24]</td><td>[23]</td><td>[22]</td><td>[21]</td><td>[20]</td><td>[19]</td><td>[18]</td><td>[17]</td><td>[16]</td><td>[15]</td><td>[14]</td><td>[13]</td><td>[12]</td><td>[11]</td><td>[10]</td><td>[9]</td><td>[8]</td><td>[7]</td><td>[6]</td><td>[5]</td><td>[4]</td><td>[3]</td><td>[2]</td><td>[1]</td><td>[0]</td></tr>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">DONE</span></code> bit is only applicable to XC9500XV.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bitstream-xc9500.html" class="btn btn-neutral float-left" title="Bitstream structure — XC9500" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="database.html" class="btn btn-neutral float-right" title="Database schema" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Wanda.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>